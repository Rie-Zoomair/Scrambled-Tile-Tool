<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Scrambled Tile Tool</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div class="ui-panel">
    <div class="ui-section">
      <label>Input Method</label>
      <div class="toggle-group">
        <button id="uploadRadio" class="btn active">Image</button>
        <button id="webcamRadio" class="btn">Webcam</button>
      </div>
      <button id="inputActionBtn" class="btn">Choose File</button>
      <input type="file" id="imageInput" accept="image/*" style="display: none;">
    </div>

    <div class="ui-section">
      <label>Dither Type</label>
      <div class="select-wrapper">
        <select id="ditherMode">
          <option value="atkinson">Atkinson</option>
          <option value="bayer">Bayer</option>
          <option value="none">None</option>
        </select>
      </div>
    </div>

    <div class="ui-section">
      <label>Contrast</label>
      <input type="range" id="contrastSlider" min="0" max="255" value="128">
    </div>

    <div class="ui-section">
      <label>Pixelate</label>
      <input type="range" id="pixelSizeSlider" min="1" max="20" value="1">
    </div>

    <div class="ui-section">
      <label>Tile Size</label>
      <input type="range" id="tileSizeSlider" min="1" max="6" value="1">
    </div>

    <div class="ui-section">
      <button id="shuffleBtn" class="btn">Shuffle Selection</button>
      <button id="resetBtn" class="btn">Reset</button>
      <button id="downloadBtn" class="btn">Download</button>
    </div>
  </div>

  <div id="canvas-holder"></div>
  <div id="small-screen-warning">Please use a bigger screen.</div>  

  <div class="tooltip-container" id="globalTooltip">
    <div class="tooltip-icon" id="tooltipIcon">?</div>
    <div class="tooltip-text">
      <strong>Shortcuts & Tips</strong><br /><br />
      <b>W</b> – Toggle tile selection outlines<br />
      <b>Space</b> – Shuffle selected tiles<br />
      <b>R</b> – Reset schuffled tiles<br />
      <b>S</b> – Save high-res image<br />
      <b>← / →</b> – Adjust grid gap<br />
      <b>Shift + Click + Drag</b> – Select multiple tiles<br />
      <b>Click + Drag</b> – Move individual tiles<br />
    </div>
  </div>
  
  

  <div class="footer">
    This tool lets you rearrange tiles of a dithered image or webcam feed. <span class="highlighted"> select tiles to shuffle or drag them freely</span>. Uploads 1000px might slow things down.
  </div>

  <script src="https://cdn.jsdelivr.net/npm/p5@1.9.0/lib/p5.min.js"></script>
  <script src="sketch.js"></script>
  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const tooltipIcon = document.getElementById('tooltipIcon');
  
      tooltipIcon.addEventListener('mouseenter', () => {
        tooltipIcon.classList.add('seen-tooltip');
      });
    });
  </script>
    
  <div id="tooltip" class="hidden">Hover over the canvase and make a selction with shift + click and drag. <br> <br> Press W to hide selction.</div>

</body>
</html>
